# AWS EC2 IMDSv2

A simple PowerShell helper script based on [AWS PowerShell tools ](https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-set-up-windows.html) to update all EC2 instances metadata, in single AWS account, to use IMDSv2 instead of IMDSv1.

The easiest way to run this script is inside **AWS CloudShell**. <br>

1- Once you open AWS CloudShell, convert to the shell mode to PowerShell using *pwsh* command. <br>
2- Click **Actions ^**, then **Upload file**. <br>
3- Once upload the file to AWS Shell, use the following command to execute it and follow the instruction. <br>
<br>
***PS /home/cloudshell-user> ./IMDSv2.ps1***

![AWS IMDSv2 Script](https://github.com/SherifTalaat/AWS_EC2_IMDSv2/blob/main/screenshot1.png?raw=true)
